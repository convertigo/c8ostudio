scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        '/*Begin_c8o_PageImport*/
        import * as _           from ''lodash'';
        import * as backbone    from ''backbone'';
        import * as joint       from ''jointjs'';
        import { ElementRef }   from ''@angular/core'';
        import * as $ from "jquery";
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	ifSteps = ["IfStep", "IfExistStep", "IfFileExistStep", "IsInStep"]
        	ifThenElseSteps = ["IfThenElseStep","IfExistThenElseStep", "IsInThenElseStep"]
        	graph = new joint.dia.Graph;
        	paper : joint.dia.Paper
        	miniMapsArray = [];
        	breadcrumb = [];
        	paperMiniMap : joint.dia.Paper
        	scale : number = 10
        	miniMapScale = 0.2
        	scaleView = 100;
        	levelCount: number = 0;
        	dragStartPosition = null;
        	dragStartPositionMiniMap = null;
        	isHorizontal = true;
        	verticalSpace = 170
        	horizontalSpace = 140 //115
        	graphOriginX = 10
        	graphOriginY = 200
        	minimapNavigatorPosition = {
          		minX: 0,
          		minY: 0,
          		maxX: 500,
          		maxY: 300,
        	};
        	strStep = ''com.twinsoft.convertigo.beans.steps.''
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/		
        		this.local.maxX = 0
        		this.local.maxY = 0
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	
        	addToBreadcrumb(breadcrumbObject) {
        		this.breadcrumb.push(breadcrumbObject)
        	}
        	
        	cardIsOpen(priority) {
        		var isOpened;
        		for (var i =0; i < this.miniMapsArray.length; i++){
        			if(this.miniMapsArray[i].priority == priority) {
        				isOpened = true;
        				break;
        			}
        		}
        		
        		return isOpened;
        	}
        	compareBranches(jThen: number, jElse: number) {
        		if(jThen > jElse) {
        			return jThen
        		} else if (jElse > jThen) {
        			return jElse
        		} else {
        			return jThen
        		}	
        	}
        	
        	createGraph() {
        		var graph = new joint.dia.Graph;
        		return graph;
        	}
        	
        	createPaper(opts: Object) {
        		var paper = new joint.dia.Paper(opts);
        		return paper;
        	}
        	
        	highlightBreadcrumb(id) {
        		for(var i = 0; i < this.breadcrumb.length; i++) {
        			if(this.breadcrumb[i].id == id)
        				this.breadcrumb[i].isSelected = true
        			else 
        				this.breadcrumb[i].isSelected = false
        		}
        	}
        	
        	highlightCard(id) {
        		for(var i = 0; i < this.miniMapsArray.length; i++) {
        			if(this.miniMapsArray[i].id == id)
        				this.miniMapsArray[i].isSelected = true
        			else
        				this.miniMapsArray[i].isSelected = false
        		}
        	}
        	
        	isInArray(array, className) {
        		if(array.includes(className))
        			return true
        		else 
        			return false
        	}
        	
        	onGridSizeChanged() {
        	    this.paper.scale(this.scale / 10)
        	}
        	
        	onMouseMove(event) {
        		console.log("I AM EVENT " + JSON.stringify(event));
        		 if (this.dragStartPosition != null) {
        			// this.c8o.log.debug("Mouse Move : " + JSON.stringify(this.dragStartPosition))
        			var bbox = this.graph.getBBox()
        			console.log(JSON.stringify(bbox));
        		    this.paper.translate(
        		    	event.offsetX - this.dragStartPosition.x * this.scale / 10, 
        		        event.offsetY - this.dragStartPosition.y * this.scale / 10);
        		
        		console.log(event.offsetX - this.dragStartPosition.x * this.scale / 10)
        		console.log(event.offsetY - this.dragStartPosition.y * this.scale / 10)
        		}
            }
        	
        	makeLink(source, target, label, graph: joint.dia.Graph, previousThen, previousElse, startDirection) {
        
                var link = new joint.shapes.standard.ShadowLink({
        		    source: source,
        		    target: target,
        		    markup: [{
        		        tagName: ''path'',
        		        selector: ''shadow'',
        		        attributes: {
        		            ''fill'': ''none''
        		        }
        		    }, {
        		        tagName: ''path'',
        		        selector: ''line'',
        		        attributes: {
        		            ''fill'': ''none''
        		        }
        		    }, {
        		        tagName: ''text'',
        		        selector: ''label''
        		    }],
        		    attrs: {
        		        line: {
        		            stroke: ''#77ACA1'', //#3c4260
        					"stroke-width": 5, 
        					sourceMarker: {
        						type: "circle",
        						fill: "#FFF",
        						stroke: ''#333'',
         		 				r: 5, // radius of the circle
          						cx: 5
        					},
        					targetMarker: {
        						cx: 100
        					}
        		        },
        				shadow: {
        					"stroke-width": 5,
        					sourceMarker: {
        						type: "circle"
        					}
        				}
        			},
        
        		});
        		
        		link.appendLabel({
            			attrs: {
                			text: {
                    			text: label
                			}
            		}
        		})
        		
        		startDirection = (previousThen) ? ''top'' : (previousElse) ? 	''bottom'' : startDirection;
        		
        		link.router(''manhattan'', {
        		    startDirections: [startDirection],
        		    endDirections: [''left''],
        			step: 10,
        			maximumLoops: 2000,
        			padding: {
        				horizontal: 20
        			}
        		});
        
        		link.addTo(graph)
        		
            }
        
        	makeElement(opts, graph) {
        		var element = new joint.shapes.standard.InscribedImage
        
        		element.resize(70,70);
        		element.position(opts.attrs.position.x, opts.attrs.position.y)
        		element.attr(''root/title'', opts.props.displayName)
        		element.attr(''label/text'', opts.props.displayName)
        		element.attr(''label/fill'', ''#fff'');
        		element.attr(''background/fill'', ''#2D433F'');
        		element.attr(''border/stroke'', ''#1E7C6D'');
        		element.attr(''background/fillOpacity'', 0.5);
        		element.attr(''image'', {
        				xlinkHref: this.c8o.endpoint + ''/.bin?__sequence=GetIcon&className='' + opts.props.className + ''&large=true&__nolog=true'',
        		})
        
        		for(var key in opts.props) {
        			element.prop(key, opts.props[key])
        //			console.log("key:" + key + " value: " + opts.props[key])
        		}
        		
        //		console.log("makeElement ELT :" + JSON.stringify(element))
        		element.addTo(graph)
        		return element;
        		
        	}
        	
        	makeComplexElement(opts, graph) {
        		var element = new joint.shapes.basic.Rect;
        		
        		element.resize(70,70)
        		element.position(opts.attrs.position.x, opts.attrs.position.y)
        		element.attr(''root/title'', opts.props.displayName)
        		element.attr(''rect/fill'', ''#00CDFF'')
        		element.attr(''text/text'', opts.props.displayName)
        		
        		for(var key in opts.props) {
        			element.prop(key, opts.props[key])
        //			console.log("key:" + key + " value: " + opts.props[key])
        		}
        		
        //		console.log("complexElement: " + JSON.stringify(element))
        		element.addTo(graph);
        		return element;		
        	}
        
        	getFlowScale() {
        		var scale = this.paper.scale();
        		var scaleNbr = scale.sx;
        		return scaleNbr;
        	}
        	
        	getCardByPriority(priority) {
        		var card;
        		for(var i = 0; i < this.miniMapsArray.length; i++) {
        			if(this.miniMapsArray[i].priority == priority) {
        				card = this.miniMapsArray[i];
        				break;
        			}
        		}
        		
        		return card;
        	}
        	
        	getClassName(qname: string) {
        		var className = qname.substr(this.strStep.length)
        		return className;
        	}
        	
        	/*
        		getting length - 2 because of the search algorithm (see : https://resources.jointjs.com/docs/jointjs/v3.2/joint.html#dia.Graph.prototype.dfs )
        		using a minus because this function is used once before the next element after logical branch is created (to calculate x position), and once it has been
        		last array''s element is the one which comes after the branch in logical flow, it is linked from the ''if step'' so it appears as a successors of it
        	*/
        	getLastElementFromSimpleBranch(branch, minus) {
        		console.log(''branch:'' + JSON.stringify(branch))
        		var successors = this.graph.getSuccessors(branch)
        		var lastElement = successors[successors.length - minus]
        
        //		console.log(''getLastElementFromSimpleBranch:'' + successors)
        //		console.log(''getLastElementFromSimpleBranch:'' + JSON.stringify(lastElement))
        		return lastElement;
        	}
        	
        	getLastElementsFromThenAndElseBranch(branch) {
        //		console.log("successors branch is: " + JSON.stringify(branch))
        		
        		var successors = this.graph.getSuccessors(branch);
        		var lastElements = {
        			jThen: [],
        			jElse: []
        		};
        		
        		var jThen = [];
        		var jElse = []
        		_.each(successors, (successor) => {
        			var qName = successor.attributes.qname
        			var displayName = successor.attributes.displayName
        			var splitStr = qName.split(''.'')
        			if(splitStr[splitStr.length - 2] == "jThen") {
        				jThen.push(successor)
        			}
        			if(splitStr[splitStr.length - 2] == "jElse") {
        				jElse.push(successor)
        			}
        		});
        		
        		lastElements.jThen = jThen;
        		lastElements.jElse = jElse;
        		
        //		console.log("lastElements: " + lastElements)
        		return lastElements;
        //		console.log("successors" + JSON.stringify(this.graph.getSuccessors(branch)))
        //		console.log(branch)
        
        	}
        
        	getPriority(properties) {
        		var priority;
        		for (var i =0; i < properties.length; i++) {
        			if(properties[i].name == "priority")
        				priority = properties[i].value
        		}
        		
        		return priority;
        	}
        	
        	unselectBreadcrumb(breadcrumbID) {
        		for(var i = 0; i < this.breadcrumb.length; i++) {
        			if(this.breadcrumb[i].id != breadcrumbID)
        				this.breadcrumb[i].isSelected = false;
        		}
        	}
        	
        	unselectCard(cardID) {
        		for(var i = 0; i < this.miniMapsArray.length; i++) {
        			if(this.miniMapsArray[i].id != cardID)
        				this.miniMapsArray[i].isSelected = false
        		}
        	}
        	
        	/*
        		We need to multiply by 100 because the calcul is not good in JS with float number
        	*/
        	zoomOutFlow() {
        		var currentScale = this.getFlowScale();
        		currentScale = currentScale * 100;
        		console.log(''currentScale : '' + currentScale)
        		if(currentScale == 10) {
        			this.getInstance(Events).publish("scaleView", "Zoom min");
        		} else {
        			var newScale = currentScale - 10
        			if(newScale == 0)
        				newScale = 10; // we can go under 0.1 otherwise graph disappears
        			console.log(''newScale : '' + newScale)
        			this.paper.scale(newScale / 100)
        			this.scaleView = newScale;
        		}
        	}
        	
        	zoomInFlow() {
        		var currentScale = this.getFlowScale();
        		currentScale = currentScale * 100;
        		console.log(''currentScale : '' + currentScale)
        		if(currentScale == 100) {
        			this.getInstance(Events).publish("scaleView","Zoom max");
        		} else {
        			var newScale = currentScale + 10
        			console.log(''newScale : '' + newScale)
        			this.paper.scale(newScale / 100)
        			this.scaleView = newScale;
        		}
        	}
        	
        	checkElementOnPoint(x: number, y: number) {
        		 if (this.graph.findModelsFromPoint({ x: x, y: y }).length > 0)
        			return true;
        		else 
        			return false;
        	}
        	
        	updateGraph(graph: joint.dia.Graph, cellsToAdd) {
        		graph.clear();
        		graph.addCells(cellsToAdd);
        	}
        	
        	walkChildren(nodeObject: any, previous = null, previousThen, previousElse, refId, graph) {
        		// refid = id du complex
        		let x;
        		let y;
        		
        		let parent = previous // parent is the element we get by clicking on one in the graph
        		let parentClassName = parent.attributes[''className''].substring(this.strStep.length)			
        		let parentIsComplex = parent.attributes.isComplex;
        		let parentX = parent.attributes.position.x;
        		let parentY = parent.attributes.position.y;
        		
        		let label = '''';
        		/* flags */
        		var previousThen = previousThen;
        		var previousElse = previousElse;
        		var previousNodeObject;
        		
        		var stepIsInBranch = false;
        		var refBranchStart = '''';
        		
        		var nbChildren = 0;
        		for (var i=0; i < nodeObject.length; i++) {
        			//parent = previous;
        			// variablizing data
        			let stepClassName = nodeObject[i].dbo.className.substring(this.strStep.length)
        			let displayName = nodeObject[i].dbo.displayName
        			
        			// this previous is the one inside loop
        			let previousClassName = this.getClassName(previous.attributes.className)
        
        //			console.log(''parent: '' + parentClassName);
        //			console.log(''current: '' + displayName)
        			
        			if(parentClassName == "IfStep") {
        				x = parentX + this.horizontalSpace;
        				y = parentY - 100;
        			} else if(stepClassName == "ElseStep") {
        				x = previous.attributes.position.x 
        				y = previous.attributes.position.y + this.verticalSpace
        			} else {
        				x = previous.attributes.position.x + this.horizontalSpace
        				y = previous.attributes.position.y 
        			}
        			
        			if(this.isInArray(this.ifThenElseSteps, parentClassName) && previousThen) { // parentClassName == "IfThenElseStep"
        				x = parentX + this.horizontalSpace
        				y = parentY - 120;
        				stepIsInBranch = true
        			} else if (this.isInArray(this.ifThenElseSteps, parentClassName) && previousElse) { // parentClassName == "IfThenElseStep"
        				x = parentX + this.horizontalSpace
        				y = parentY + 120
        				stepIsInBranch = true
        			}
        			
        			if(this.isInArray(this.ifSteps, previousClassName)) {
        				x = previous.attributes.position.x + this.horizontalSpace
        				y = previous.attributes.position.y - 120
        				stepIsInBranch = true			
        			}
        			
        			if(previousNodeObject != undefined && this.isInArray(this.ifSteps, previousClassName)) {
        				
        				nbChildren = previousNodeObject.dbo.children.length		
        //				console.log(''nbChildren: '' + nbChildren)
        				x = previous.attributes.position.x + (70 + this.horizontalSpace * nbChildren) + 45
        				y = previous.attributes.position.y
        				
        			}
        			var lastCell = this.graph.getLastCell()
        //			console.log(''lastCell: '' + JSON.stringify(lastCell))
        						
        			if(lastCell != undefined && lastCell.attributes.type == "standard.ShadowLink") {
        					// So if it a link, the true last cell is its target
        					if(lastCell.attributes.target != undefined && !previousThen && !previousElse) {
        						var lastCellTarget = lastCell.attributes.target
        						//console.log(''target: '' + JSON.stringify(lastCellTarget))
        						x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        						// y = lastCellTarget.attributes.position.y
        					}
        //					var lastCellTarget = lastCell.attributes.target
        //					x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        //					y = lastCellTarget.attributes.position.y
        			} 
        			else {
        				x = lastCell.attributes.position.x + this.horizontalSpace
        				// y = lastCell.attributes.position.y
        			}
        		
        			// walking through branches
        			
        			if(previousNodeObject != undefined && this.isInArray(this.ifThenElseSteps, previousClassName)) {
        				var thenNumber = 0;
        				var elseNumber = 0;
        				var children = {
        					then: 0,
        					else: 0	
        				};				
        				if(previousNodeObject.dbo.children[0].dbo.children != undefined)
        					thenNumber = previousNodeObject.dbo.children[0].dbo.children.length
        							
        				if(previousNodeObject.dbo.children[1].dbo.children != undefined)
        					elseNumber = previousNodeObject.dbo.children[1].dbo.children.length
        								
        					children = {
        						then: thenNumber,
        						else: elseNumber
        					}
        							
        					var nbChildren = this.compareBranches(children.then, children.else)
        //					console.log(''nbChildren: '' + nbChildren)
        					x = previous.attributes.position.x + (70 + this.horizontalSpace * nbChildren) + 45
        					y = previous.attributes.position.y
        					stepIsInBranch = true
        			}
        			
        //			TO KEEP, MIGHT NEED IT LATER
        //			if(this.checkElementOnPoint(x,y)) {
        //				// Last cell might be a link or en element
        //				var lastCell = this.graph.getLastCell();
        //				if(lastCell.attributes.type == "standard.ShadowLink") {
        //					// So if it a link, the true last cell is its target
        //					if(lastCell.attributes.target != undefined) {
        //						var lastCellTarget = lastCell.attributes.target
        //						//if(lastCellTarget.attributes.endsBranch) {}
        //						x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        //						y = lastCellTarget.attributes.position.y
        //					}
        ////					var lastCellTarget = lastCell.attributes.target
        ////					x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        ////					y = lastCellTarget.attributes.position.y
        //				} 
        //				else {
        //					x = lastCell.attributes.position.x + this.horizontalSpace
        //					y = lastCell.attributes.position.y
        //				}
        //			}
        			
        			
        			if(stepIsInBranch)
        				refBranchStart = parent.id
        			
        			if(!parentIsComplex && stepClassName != "ThenStep" && stepClassName != "ElseStep") {
        				
        				var elmtOpts = {
            				attrs: {
                				position: {
                   	 				x: x,
                    				y: y
                				}
            				},
            				props: {
        				        qname: nodeObject[i].dbo.qname,
        				        displayName: nodeObject[i].dbo.displayName,
        				        className: nodeObject[i].dbo.className,
        				        isComplex: nodeObject[i].dbo.isComplex,
        				        isInBranch: stepIsInBranch,
        				        refBranchStart: refBranchStart,
        				        depthLvl: nodeObject[i].dbo.depthLvl,
        				        properties: nodeObject[i].dbo.properties
            				}
        				}
        				
        				var el = (nodeObject[i].dbo.isComplex) ? this.makeComplexElement(elmtOpts, graph) : this.makeElement(elmtOpts, graph);
        //			var el = this.makeElement({
        //					x : x,
        //					y: y
        //				}, 
        //				nodeObject[i].dbo.displayName,
        //				nodeObject[i].dbo.qname,
        //				nodeObject[i].dbo.className,
        //				nodeObject[i].dbo.isComplex,
        //				stepIsInBranch,
        ////				nodeObject[i].dbo.isEmbedded,
        //				refStartBranch,
        //				nodeObject[i].dbo.depthLvl,
        //				graph
        //			)
        
        			if(previousThen) {
        				label = "Then"
        			} else if (previousElse) {
        				label = "Else"
        			} else {
        				label = ""
        			}
        		
        //			if(this.isInArray(this.ifThenElseSteps, previousClassName) || this.isInArray(this.ifSteps, previousClassName) 
        //				&& !this.isInArray(this.ifSteps, stepClassName) && !this.isInArray(this.ifThenElseSteps, stepClassName))  //  && !previous.attributes.isComplex
        //				this.makeLink(previous, el, label, graph, previousThen, previousElse)
        			
        //			if(previousNodeObject != null  && this.isInArray(this.ifThenElseSteps, this.getClassName(previousNodeObject.dbo.className)) && !this.isInArray(this.ifSteps, stepClassName))
        //				this.makeLink(previous, el, label, graph, previousThen, previousElse)
        			
        			// si mon précédent est un thenElse ou un simple if ET si mon current n''est pas un thenElse ou un If je fais un lien
        //			if(this.isInArray(this.ifThenElseSteps, previousClassName) || this.isInArray(this.ifSteps, previousClassName)) {
        				var startDirection;
        				if(this.isInArray(this.ifSteps, previousClassName) && !this.isInArray(this.ifSteps, stepClassName)) {
        //					startDirection = (this.isInArray(this.ifThenElseSteps, stepClassName)) ? ''right'' : ''top''
        //					startDirection = (previous.attributes.depthLvl == el.attributes.depthLvl) ? ''bottom'' : ''top''
        					startDirection = (this.isInArray(this.ifThenElseSteps, stepClassName)) ? ''right'' : (previous.attributes.depthLvl == el.attributes.depthLvl) ? ''bottom'' : ''top''
        					startDirection = (this.isInArray(this.ifSteps, previousClassName) && this.isInArray(this.ifThenElseSteps, stepClassName) && previous.attributes.depthLvl != el.attributes.depthLvl) ? ''top'' : startDirection
        	//				startDirection = (!this.isInArray(this.ifSteps, stepClassName) && !this.isInArray(this.ifThenElseSteps, stepClassName)) ? ''bottom'' : startDirection
        //					startDirection = (this.isInArray(this.ifSteps, previousClassName) && !this.isInArray(this.ifSteps, stepClassName) && !this.isInArray(this.ifThenElseSteps, stepClassName)) ? ''top'' : startDirection  
        					this.makeLink(previous, el, label, graph, previousThen, previousElse, startDirection)
        				} else if (this.isInArray(this.ifSteps, previousClassName) && this.isInArray(this.ifSteps, stepClassName)) {
        					//startDirection = (previousNodeObject.dbo.children != undefined) ? ''right '' : ''top''
        					startDirection = (this.graph.getSuccessors(previous).length <= 0) ? ''top'' : ''right''
        					this.makeLink(previous, el, label, graph, previousThen, previousElse, startDirection) // right
        				} else if (this.isInArray(this.ifSteps, previousClassName) && this.isInArray(this.ifThenElseSteps, stepClassName)) {
        					startDirection = (previousNodeObject.dbo.children != undefined) ? ''right '' : ''top''
        					this.makeLink(previous, el, label, graph, previousThen, previousElse, startDirection) // top
        				} else if(!this.isInArray(this.ifSteps, previousClassName) && !this.isInArray(this.ifThenElseSteps, previousClassName)) {
        					this.makeLink(previous, el, label, graph, previousThen, previousElse, "right")
        				} else if(!this.isInArray(this.ifThenElseSteps, stepClassName) && !this.isInArray(this.ifSteps, stepClassName)) {
        					this.makeLink(previous, el, label, graph, previousThen, previousElse, "right")
        				}
        //			} 
        //				this.makeLink(previous, el, label, graph, previousThen, previousElse)
        				
        //			if(this.isInArray(this.ifThenElseSteps, previousClassName) && !this.isInArray(this.ifSteps, stepClassName))
        //				this.makeLink(previous, el, label, graph, previousThen, previousElse)
        			// getting last element of branches	
        			if(previousNodeObject != null && this.isInArray(this.ifThenElseSteps, previousClassName)) { // this.getClassName(previous.attributes.className) == "IfThenElseStep"
        				var lastElements = this.getLastElementsFromThenAndElseBranch(previous)
        				var jThenLastElement = lastElements.jThen[lastElements.jThen.length - 1]
        				var jElseLastElement = lastElements.jElse[lastElements.jElse.length - 1]
        
        //							console.log("jThenLastElement: " + JSON.stringify(jThenLastElement) )
        				if(jThenLastElement != undefined) {
        					this.makeLink(jThenLastElement, el, label, this.graph, false, false, "right") // right
        //					previous = jThenLastElement
        				}
        							
        				if(jElseLastElement != undefined) {
        					this.makeLink(jElseLastElement, el, label, this.graph, false, false, "right") // right
        //					previous = jElseLastElement
        				}
        								
        			} 
        			// add a condition tfor last elmement
        //			else if(previousNodeObject != null && this.isInArray(this.ifSteps, previousClassName)) { // this.getClassName(previous.attributes.className) == "IfStep"
        //				// minus = 2 because element has been created so the successors length got + 1
        //				var lastElementFromSimpleBranch = this.getLastElementFromSimpleBranch(previous, 2)
        //				this.makeLink(lastElementFromSimpleBranch, el, label, this.graph, false, false) // right
        //			} 
        			else if(previousNodeObject != null && this.isInArray(this.ifSteps, previousClassName)) { // this.getClassName(previous.attributes.className) == "IfStep"
        				if(previousClassName != this.getClassName(previousNodeObject.dbo.className)) {
        					var lastElement = this.getLastElementFromSimpleBranch(previous, 2);
        					this.makeLink(lastElement, el, '''', this.graph, false, false, "right")
        				} else {			
        					if(lastCell != undefined && lastCell.attributes.type == "standard.ShadowLink") {
        						// So if it a link, the true last cell is its target
        						if(lastCell.attributes.target != undefined) {
        							// if(lastCell.attributes.isInBranch)
        							// getSuccessors - 1 
        							var lastCellTarget = lastCell.attributes.target
        //							console.log(''target: '' + JSON.stringify(lastCellTarget))
        							
        							if(lastCellTarget != undefined) {
        								var startBranchElement = this.graph.getCell(lastCellTarget.attributes.refBranchStart)
        								var lastElements = this.getLastElementsFromThenAndElseBranch(startBranchElement)
        								var jThenLastElement = lastElements.jThen[lastElements.jThen.length - 1]
        								var jElseLastElement = lastElements.jElse[lastElements.jElse.length - 1]
        								
        								// positionning current element on Y position of the start branch element
        								//el.position(el.attributes.position.x, startBranchElement.attributes.position.y)
        
        				//							console.log("jThenLastElement: " + JSON.stringify(jThenLastElement) )
        								if(jThenLastElement != undefined) {
        									this.makeLink(jThenLastElement, el, label, this.graph, false, false, "right") // right
        				//					previous = jThenLastElement
        								}
        											
        								if(jElseLastElement != undefined) {
        									el.position(el.attributes.position.x, jElseLastElement.attributes.position.y)
        									this.makeLink(jElseLastElement, el, label, this.graph, false, false, "right") // right
        				//					previous = jElseLastElement
        								}	
        							}
        							
        							this.makeLink(lastCellTarget, el, '''', this.graph, false, false, "right")
        
        							
        											// y = lastCellTarget.attributes.position.y
        						}
        					//					var lastCellTarget = lastCell.attributes.target
        					//					x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        					//					y = lastCellTarget.attributes.position.y
        					} 
        					else {
        						this.makeLink(lastCell, el, '''', this.graph, false, false, "right")
        						// y = lastCell.attributes.position.y
        					}								
        				}
        			}
        			previous = el
        			
        			if(this.isInArray(this.ifThenElseSteps, stepClassName) || this.isInArray(this.ifSteps, stepClassName))
        				previousNodeObject = nodeObject[i]
        							
        			}
        			
        			if(stepClassName == "ThenStep") {
        				previousThen = true
        				previousElse = false
        			}  else if(stepClassName == "ElseStep") {
        				previousElse = true
        				previousThen = false				
        			} else {
        				previousThen = false
        				previousElse = false
        			}
        		
        			if(!parentIsComplex && nodeObject[i].dbo.children != undefined && nodeObject[i].dbo.children.length > 0) {
        					this.walkChildren(nodeObject[i].dbo.children, previous, previousThen, previousElse, refId, graph);
        			}
        
        		}
        	}
        
        	ngAfterViewInit() {
        	    /**
        	     * TODO : Implement Drag & Drop from palette see : https://codepen.io/fxaeberard/pen/reGvjm
        	     * 
        	     */
        
        	    let graphDomElement = this.graphDomElement as ElementRef
        		let paperOpts = {
                    el: graphDomElement.nativeElement,
                    width: ''100%'',
                    height: ''100%'',
                    model: this.graph,
                    gridSize: 10,
        			embeddingMode: true,
                    defaultRouter: {
                        name: ''normal''
                    },
                    defaultConnector: {
                        name: ''rounded''
                    },
                    validateConnection: function(cellViewS, magnetS, cellViewT, magnetT, end, linkView) {
                        // Prevent connections if not on Magnets from ports
                        if (magnetT == undefined|| magnetS ==undefined)
                            return false
                        else
                            return true
                    }
                }
        
        //			drawGrid: {
        //				name: ''dot'',
        //				args: {
        //					color: ''white''
        //				}
        //			},
                this.paper = this.createPaper(paperOpts);
        		this.paper.setOrigin(this.graphOriginX, this.graphOriginY)
        
        		/**
        	     * The next two events are to be able to drag on the graph
        	     * 
        	     */
        		this.paper.on(''cell:pointerup blank:pointerup'', (cellView, x, y) => {
                	this.c8o.log.debug("Mouse Up")
                    this.dragStartPosition = null
                });
        
        		this.paper.on(''blank:pointerdown'', (event, x, y) => {
                	this.c8o.log.debug("Mouse Start")
                    this.dragStartPosition = { x: x * this.scale / 10, y: y * this.scale / 10};
                });
        
        		this.paper.on(''blank:mousewheel'', (evt, x, y, delta) => {
        			var normalizedDelta = Math.max(-1, Math.min(1, (delta))) / 50;
        			var newScale = this.paper.scale().sx + normalizedDelta; // the current paper scale changed by delta
        		  	if (newScale > 0.4 && newScale < 2) {
        			    this.paper.scale(newScale, newScale);
          			}
        		})
        
        		this.paper.on(''cell:pointerdblclick'', (cellView, event, x, y) => {
        			
        			// getting element
        			var element = cellView;
        			var elementQName = cellView.model.attributes.qname;
        			var elementDisplayName = cellView.model.attributes.displayName;
        			var elementIsComplex = cellView.model.attributes.isComplex;
        			var elementProperties = cellView.model.attributes.properties;
        			
        			var priority = this.getPriority(elementProperties);
        			
        			// on vérifie si la priority de l''objet est contenue dans le tableau des cards, si c''est le cas c''est que l''objet est déjà open, 
        			// alors, si c''est vrai, on highlight la card
        			
        			if(this.cardIsOpen(priority)) {
        				var card = this.getCardByPriority(priority);
        				this.highlightCard(card.id);
        				this.highlightBreadcrumb(card.id)
        				var cellsToAdd = card.graph.getCells();
        				this.updateGraph(this.graph, cellsToAdd);
        			} else {
        				
        			
        			// pushing data to array to retrieve the correct dom element
        			this.levelCount++;
        			var newGraph = this.createGraph();
        			this.miniMapsArray.push({
        				id: ''level-'' + this.levelCount,
        				displayName: elementDisplayName,
        				priority: priority,
        				qname: elementQName,
        				isSelected: true,
        				graph: newGraph, 
        			});
        			
        			this.addToBreadcrumb({
        				id: ''level-''+ this.levelCount,
        				displayName: elementDisplayName,
        				priority: priority,
        				graph: newGraph,
        				isSelected: true
        			})
        		
        			this.unselectBreadcrumb(this.breadcrumb[this.breadcrumb.length - 1].id);
        			this.unselectCard(this.miniMapsArray[this.miniMapsArray.length - 1].id);	
        			setTimeout(() => {
        				var el = document.getElementById("level-"+this.levelCount)			
        				var paperOpts = {
        		            el: el,
        		            width: ''100%'',
        		            height: ''100%'',
        		            model: newGraph,
        		            gridSize: 10,
        					embeddingMode: false,
        					interactive: false,
        		            defaultLink: new joint.dia.Link({
        		            	attrs: {
        		                    ''.connection'' : {
        		                        stroke: ''orange'',
        		                        strokeWidth: 2
        		                    }
        		                }                
        		            }),
        					drawGrid: {
        						name: ''dot'',
        						args: {
        							color: ''white''
        						}
        					},
        		            defaultRouter: {
        		                name: ''manhattan''
        		            },
        		            defaultConnector: {
        		                name: ''rounded''
        		            },
        		            validateConnection: function(cellViewS, magnetS, cellViewT, magnetT, end, linkView) {
        		                // Prevent connections if not on Magnets from ports
        		                if (magnetT == undefined|| magnetS ==undefined)
        		                    return false
        		                else
        		                    return true
        		            }
        		        }
        			
        				var paper = this.createPaper(paperOpts);
        				paper.scale(0.2);
        				var computedSize = paper.getComputedSize();
        				var originY = (computedSize.height / 2);
        			
        				paper.setOrigin(this.graphOriginX, originY)
        			
        				this.c8o.callJsonObject(''.GetGraph'', {
        					qname: elementQName,
        					level: 2
        				}).then((resp, param) => {
        					
        					this.graph.clear();
        
        					var previous = null;
        					var previousFromSequence = null;
        					var nbChildren = 0;
        					
        					var children = {
        						then: 0,
        						else: 0	
        					};
        					
        					var lastCell = this.graph.getLastCell();
        					this.paper.setOrigin(this.graphOriginX, this.graphOriginY)
        					
        					_.each(resp[''array''], (newElement, i) => {
        
        						x = 70 + this.horizontalSpace * parseInt(i);
        						y = 70;
        						
        						var newElementIsComplex = newElement.dbo.isComplex;
        						var newElementQName = newElement.dbo.qname;
        						var newElementClassName = this.getClassName(newElement.dbo.className);
        											
        						if(previousFromSequence != null)
        							var previousFromSequenceClassName = this.getClassName(previousFromSequence.dbo.className)
        						
        						if(previous != null)
        							var previousClassName = this.getClassName(previous.attributes.className)
        
        						var thenNumber = 0;
        						var elseNumber = 0;
        						if(previousFromSequence != null && previousFromSequenceClassName != undefined && this.isInArray(this.ifThenElseSteps, previousFromSequenceClassName)) { // previousFromSequenceClassName == "IfThenElseStep"
        							if(previousFromSequence.dbo.children[0].dbo.children != undefined)
        								thenNumber = previousFromSequence.dbo.children[0].dbo.children.length
        							
        							if(previousFromSequence.dbo.children[1].dbo.children != undefined)
        								elseNumber = previousFromSequence.dbo.children[1].dbo.children.length
        								
        							children = {
        								then: thenNumber,
        								else: elseNumber
        							}
        							
        							var nbChildren = this.compareBranches(children.then, children.else)
        //							console.log(''nbChildren: '' + nbChildren)
        							x = previous.attributes.position.x + (70 + this.horizontalSpace * nbChildren) + 45
        							y = 70
        						}
        						
        						if(previous != null && this.isInArray(this.ifSteps, previousClassName)) { //previousClassName == "IfStep"g
        							if(previousClassName != previousFromSequenceClassName) {
        								var lastElement = this.getLastElementFromSimpleBranch(previous, 1);
        								x = lastElement.attributes.position.x + this.horizontalSpace;
        							} else {
        								lastCell = this.graph.getLastCell()
        //								console.log(''lastCell: '' + JSON.stringify(lastCell))
        											
        								if(lastCell != undefined && lastCell.attributes.type == "standard.ShadowLink") {
        										// So if it a link, the true last cell is its target
        										if(lastCell.attributes.target != undefined) {
        											var lastCellTarget = lastCell.attributes.target
        //											console.log(''target: '' + JSON.stringify(lastCellTarget))
        											x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        											// y = lastCellTarget.attributes.position.y
        										}
        					//					var lastCellTarget = lastCell.attributes.target
        					//					x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        					//					y = lastCellTarget.attributes.position.y
        								} 
        								else {
        									x = lastCell.attributes.position.x + this.horizontalSpace
        									// y = lastCell.attributes.position.y
        								}								
        							}
        							
        						}
        						
        						if(this.checkElementOnPoint(x,y)) {
        							// Last cell might be a link or en element
        							var lastCell = this.graph.getLastCell();
        							if(lastCell.attributes.type == "standard.ShadowLink") {
        								// So if it a link, the true last cell is its target
        								var lastCellTarget = lastCell.attributes.target
        								x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        								y = lastCellTarget.attributes.position.y
        							} else {
        								x = lastCell.attributes.position.x + this.horizontalSpace
        								y = lastCell.attributes.position.y
        							}
        						}
        						
        						if(previous != null && x < previous.attributes.position.x) {
        							x = previous.attributes.position.x + this.horizontalSpace
        						}
        						
        							
        //						if(previous != null) {
        //							x = previous.atrributes.position.x + this.horizontalSpace;
        //							y = previous.attributes.position.y
        //						}
        						var elmtOpts = {
            						attrs: {
                						position: {
                   	 						x: x,
                    						y: y
                						}
            						},
            						props: {
        							    qname: newElement.dbo.qname,
        							    displayName: newElement.dbo.displayName,
        							    className: newElement.dbo.className,
        							    isComplex: newElement.dbo.isComplex,
        							    isInBranch: false,
        							    refBranchStart: '''',
        							    depthLvl: newElement.dbo.depthLvl,
        							    properties: newElement.dbo.properties
            						}
        						}
        						var el = (newElement.dbo.isComplex) ? this.makeComplexElement(elmtOpts, this.graph) : this.makeElement(elmtOpts, this.graph)
        
        						
        						if(previous != null && !this.isInArray(this.ifThenElseSteps, previousClassName)) // && previousClassName != "IfThenElseStep"
        							var link = this.makeLink(previous, el, '''', this.graph, false, false, "right")
        
        						
        						if(previous != null && this.isInArray(this.ifThenElseSteps, previousClassName)) { // this.getClassName(previous.attributes.className) == "IfThenElseStep"
        							var lastElements = this.getLastElementsFromThenAndElseBranch(previous)
        							var jThenLastElement = lastElements.jThen[lastElements.jThen.length - 1]
        							var jElseLastElement = lastElements.jElse[lastElements.jElse.length - 1]
        
        //							console.log("jThenLastElement: " + JSON.stringify(jThenLastElement) )
        							if(jThenLastElement != undefined) {
        								this.makeLink(jThenLastElement, el, '''', this.graph, false, false, "right")
        //								lastCell = jThenLastElement
        							}
        								
        							
        							if(jElseLastElement != undefined) {
        								this.makeLink(jElseLastElement, el, '''', this.graph, false, false, "right")
        //								lastCell = jElseLastElement
        							}
        								
        								
        						}  else if(previous != null && this.isInArray(this.ifSteps, previousClassName)) { // this.getClassName(previous.attributes.className) == "IfStep"
        							if(previousClassName != previousFromSequenceClassName) {
        								var lastElement = this.getLastElementFromSimpleBranch(previous, 1);
        								this.makeLink(lastElement, el, '''', this.graph, false, false, "right")
        							} else {
        										
        								if(lastCell != undefined && lastCell.attributes.type == "standard.ShadowLink") {
        										// So if it a link, the true last cell is its target
        										if(lastCell.attributes.target != undefined) {
        											var lastCellTarget = lastCell.attributes.target
        //											console.log(''target: '' + JSON.stringify(lastCellTarget))
        											if(lastCellTarget.attributes.isInBranch) {
        												var startBranchElement = this.graph.getCell(lastCellTarget.attributes.refBranchStart)
        												if(this.isInArray(this.ifThenElseSteps, this.getClassName(startBranchElement.attributes.className))) {
        													// var startBranchElement = this.graph.getCell(lastCellTarget.attributes.refBranchStart)
        													var lastElements = this.getLastElementsFromThenAndElseBranch(startBranchElement)
        													var jThenLastElement = lastElements.jThen[lastElements.jThen.length - 1]
        													var jElseLastElement = lastElements.jElse[lastElements.jElse.length - 1]
        													
        													// positionning current element on Y position of the start branch element
        													//el.position(el.attributes.position.x, startBranchElement.attributes.position.y)
        					
        									//							console.log("jThenLastElement: " + JSON.stringify(jThenLastElement) )
        													if(jThenLastElement != undefined) {
        														this.makeLink(jThenLastElement, el, "", this.graph, false, false, "right") // right
        									//					previous = jThenLastElement
        													}
        																
        													if(jElseLastElement != undefined) {
        														el.position(el.attributes.position.x, jElseLastElement.attributes.position.y)
        														this.makeLink(jElseLastElement, el, "", this.graph, false, false, "right") // right
        									//					previous = jElseLastElement
        													}
        																								
        												} else {
        													this.makeLink(lastCellTarget, el, '''', this.graph, false, false, "right")
        												}
        											}
        
        											// y = lastCellTarget.attributes.position.y
        										}
        										
        					//					var lastCellTarget = lastCell.attributes.target
        					//					x = lastCellTarget.attributes.position.x + this.horizontalSpace;
        					//					y = lastCellTarget.attributes.position.y
        								} 
        								else {
        									this.makeLink(lastCell, el, '''', this.graph, false, false, "right")
        									// y = lastCell.attributes.position.y
        								}								
        							}
        							// minus = 2 because element has been created so the successors length got + 1
        //							var lastElementFromSimpleBranch = this.getLastElementFromSimpleBranch(previous, 2)
        //							this.makeLink(lastElementFromSimpleBranch, el, '''', this.graph, false, false)
        						}
        						
        						previous = el
        						previousFromSequence = newElement;
        						
        					
        //						console.log("Element: " + newElement.dbo.displayName + JSON.stringify(this.graph.getPredecessors(el)))
        //						console.log("Previous sequence element: " + JSON.stringify(previousFromSequence));
        //						console.log("Element: " + newElement.dbo.displayName + JSON.stringify(this.graph.getNeighbors(el)));
        						
        						if(!newElementIsComplex && newElement.dbo.children != undefined && newElement.dbo.children.length > 0) 
        							this.walkChildren(newElement.dbo.children, previous, false, false, '''', this.graph)
        					});
        
        					
        					var cellsToAdd = this.graph.getCells();
        					this.updateGraph(newGraph, cellsToAdd);
        					
        					return null;
        				}).fail((error: any) => {
        					console.log(error)
        				});
        //					console.log(element)
        				})
        				
        			}
        			}, 0o400); // = 0.4s
        
        	}
        	/*End_c8o_PageFunction*/
        '
segment: path-to-flowviewer
title: Title for FlowViewer
↓PageEvent [ngx.components.UIPageEvent-1588052803545]: 
  ↓useJointJS [ngx.components.UICustomAction-1588052817033]: 
    package_dependencies: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: jointjs
              - java.lang.String: 
                - ↑value: 3.1.1
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: '@types/lodash'
              - java.lang.String: 
                - ↑value: 3.10.1
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: '@types/jquery'
              - java.lang.String: 
                - ↑value: '>=3.4.1'
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: '@types/backbone'
              - java.lang.String: 
                - ↑value: 1.4.1
  ↓initDagreAndGraphLib [ngx.components.UICustomAction-1603285635817]: 
    isEnabled: false
    package_dependencies: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: dagre
              - java.lang.String: 
                - ↑value: 0.8.5
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: graphlib
              - java.lang.String: 
                - ↑value: 2.1.8
    page_ts_imports: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: '* as dagre'
              - java.lang.String: 
                - ↑value: dagre
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: '* as graphlib'
              - java.lang.String: 
                - ↑value: graphlib
↓Subscribe_Handler [ngx.components.UIEventSubscriber-1588686865663]: 
  topic: dboFocus
  ↓GetGraph [ngx.components.UIDynamicAction-1588686924736]: 
    beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:C8oStudio.GetGraph"}'
    ↓GetProperties [ngx.components.UIDynamicAction-1608133810936]: 
      beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:C8oStudio.GetProperties"}'
      ↓qname [ngx.components.UIControlVariable-1608133836413]: 
        comment: new variable
        varValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: source:{"filter":"Action","project":"C8oStudio","input":"","model":{"data":[{"priority":1588686924736}],"path":"?.in?.vars?.qname","prefix":"","suffix":"","custom":"","useCustom":false}}
      ↓createFirstPaperAndPushGraphToArray [ngx.components.UICustomAction-1605878512148]: 
        actionValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
            - com.twinsoft.convertigo.beans.common.FormatedContent: 
              →: |
                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                		
                		var qname = vars.qname;
                		var splitStr = qname.split('':'')
                		for(var i = 0; i < splitStr.length; i++) {
                			var str = splitStr[i].split(''.'')
                		}
                		var displayName = str;
                		
                		this.levelCount++;
                		this.global.firstGraphInColumn = this.createGraph();
                		
                		var priority = this.getPriority(vars.properties.properties);
                		
                		this.miniMapsArray.push({
                			id: ''level-'' + this.levelCount,
                			displayName: displayName,
                			priority: priority,
                			graph: this.global.firstGraphInColumn,
                			isSelected: true,
                		})
                		this.addToBreadcrumb({
                			id: ''level-'' + this.levelCount,
                			displayName: displayName,
                			priority: priority,
                			graph: this.global.firstGraphInColumn,
                			isSelected: true
                		})
                		
                //		console.log(this.miniMapsArray);
                		setTimeout(() => {
                			var el = document.getElementById("level-"+this.levelCount)
                			let paperOpts = {
                	            el: el,
                	            width: ''100%'',
                	            height: ''100%'',
                	            model: this.global.firstGraphInColumn,
                	            gridSize: 10,
                				embeddingMode: false,
                				interactive: false,
                	            defaultLink: new joint.dia.Link({
                	            	attrs: {
                	                    ''.connection'' : {
                	                        stroke: ''orange'',
                	                        strokeWidth: 2
                	                    }
                	                }                
                	            }),
                				drawGrid: {
                					name: ''dot'',
                					args: {
                						color: ''white''
                					}
                				},
                	            defaultRouter: {
                	                name: ''manhattan''
                	            },
                	            defaultConnector: {
                	                name: ''rounded''
                	            },
                	            validateConnection: function(cellViewS, magnetS, cellViewT, magnetT, end, linkView) {
                	                // Prevent connections if not on Magnets from ports
                	                if (magnetT == undefined|| magnetS ==undefined)
                	                    return false
                	                else
                	                    return true
                	            }
                	        }
                	        var paper = this.createPaper(paperOpts);
                			paper.scale(0.2)
                			var computedSize = paper.getComputedSize();
                			var originY = computedSize.height / 2;
                //			paper.scaleContentToFit()
                			
                //			paper.setOrigin(this.graphOriginX, originY)
                		}, 0o400) // = 0.4s
                
                		resolve();
                '
        ↓qname [ngx.components.UIControlVariable-1607522458675]: 
          varValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: source:{"filter":"Action","project":"C8oStudio","input":"","model":{"data":[{"priority":1588686924736}],"path":"?.in?.vars?.qname","prefix":"","suffix":"","custom":"","useCustom":false}}
        ↓DisplayFlow [ngx.components.UICustomAction-1588687209815]: 
          actionValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '            class walkTree {
                                  
                              }
                  		    
                      		this.graph.clear();
                  			var bbox = this.paper.getContentBBox();
                  // 			console.log("I AM VARS FLOW" + JSON.stringify(vars.flow));
                      		let previous = null
                  			var isComplex = false;
                  			var refIdEmbed = '''';
                      		for (var i=0; i < vars.flow.length ; i++) {
                  				let stepClassName = vars.flow[i].dbo.className.substring(this.strStep.length)
                  //				console.log("DisplayFlow - stepClassName : " + stepClassName)
                  				
                  				isComplex = (stepClassName == "XMLComplexStep") ? true : false
                  				var opts = {
                  				    attrs: {
                  				        position: {
                  				            x: 70 + this.horizontalSpace * i,
                  				            y: 70
                  				        }
                  				    },
                  				    props: {
                  				        qname: vars.flow[i].dbo.qname,
                  				        displayName: vars.flow[i].dbo.displayName,
                  				        className: vars.flow[i].dbo.className,
                  				        isComplex: vars.flow[i].isComplex,
                  				        isInBranch: false,
                  				        refBranchStart: '''',
                  				        depthLvl: vars.flow[i].dbo.depthLvl,
                  				        properties: vars.flow[i].dbo.properties
                  				    }
                  				}
                  				
                  				var step = (isComplex) ? this.makeComplexElement(opts, this.graph) : this.makeElement(opts, this.graph)
                  
                  //				console.log("DisplayFlow - element created: " + JSON.stringify(step))
                  				
                  				if(previous != null)
                  					var link = this.makeLink(previous, step, "", this.graph, false, false, "right")
                  
                  				previous = step
                  
                  //				if(vars.flow[i].dbo.children != undefined && vars.flow[i].dbo.children.length > 0) {
                  //					this.walkChildren(vars.flow[i].dbo.children, previous, refIdEmbed)
                  //					this.paper.setDimensions(this.local.maxX, this.local.maxY)
                  //				}
                  
                      		}
                  				var cellsToAdd = this.graph.getCells();
                  				this.updateGraph(this.global.firstGraphInColumn, cellsToAdd);
                  //			this.walkChildren(vars.flow, null)
                      		resolve();
                  '
          ↓flow [ngx.components.UIControlVariable-1588693303067]: 
            varValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: source:{"filter":"Sequence","project":"C8oStudio","input":"listen(['C8oStudio.GetChildren'])?.array","model":{"data":[{"sequence":"C8oStudio.GetGraph","marker":""}],"path":"?.array","prefix":"","suffix":"","custom":"","useCustom":false}}
        ↓properties [ngx.components.UIControlVariable-1608133962701]: 
          varValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: source:{"filter":"Action","project":"C8oStudio","input":"","model":{"data":[{"priority":1608133810936},{"priority":1588686924736}],"path":"?.out","prefix":"","suffix":"","custom":"","useCustom":false}}
    ↓qname [ngx.components.UIControlVariable-1589811848532]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: script:out
    ↓level [ngx.components.UIControlVariable-1598523209744]: 
      comment: new variable
      varValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: plain:100
↓Grid [ngx.components.UIDynamicElement-1588228737881]: 
  beanData: '{"ionBean":"Grid","Height":"plain:"}'
  tagName: ion-grid
  ↓rowLevelAndGraph [ngx.components.UIDynamicElement-1588228741415]: 
    beanData: |
      '{
       "ionBean": "GridRow",
       "Width": "plain:100%",
       "Height": "plain:600px"
      }'
    tagName: ion-row
    ↓colLevel [ngx.components.UIDynamicElement-1605868481333]: 
      beanData: '{"ionBean":"GridCol","SizeXl":"plain:2"}'
      identifier: levelDomElement
      tagName: ion-col
      ↓Style [ngx.components.UIStyle-1605869875828]: 
        styleContent: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
            - com.twinsoft.convertigo.beans.common.FormatedContent: 
              →: |
                '/**
                 * Custom properties (sometimes referred to as CSS variables or cascading variables)
                 * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                 * They are set using custom property notation, e.g.: --main-color: black;
                 * and are accessed using the var() function, e.g.: color: var(--main-color);
                 * You can find below your component''s properties you can customize within the page.
                 * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                 * For more informations see https://ionicframework.com/docs/theming.
                **/
                //--ion-grid-column-padding	//Padding for the Column
                //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                //--ion-grid-columns	//The number of total Columns in the Grid
                
                background-color: rgba(45,52,54,1);
                overflow-y: scroll;
                min-height: 500px !important;
                height: 100% !important;
                '
      ↓Attr [ngx.components.UIAttribute-1605870962361]: 
        attrName: id
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:flow-level-column
      ↓rowButtonSet [ngx.components.UIDynamicElement-1606214946988]: 
        beanData: '{"ionBean":"GridRow","Height":"plain"}'
        tagName: ion-row
        ↓colButtonSet [ngx.components.UIDynamicElement-1606214965909]: 
          beanData: '{"ionBean":"GridCol","SizeXl":"plain:12"}'
          tagName: ion-col
          ↓H4 [ngx.components.UIDynamicElement-1606494247592]: 
            beanData: '{"ionBean":"Heading4"}'
            tagName: h4
            ↓Text [ngx.components.UIText-1606494254856]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:Flow controls :
          ↓ButtonSet [ngx.components.UIDynamicElement-1606215006350]: 
            beanData: '{"ionBean":"ButtonSet"}'
            tagName: ion-buttons
            ↓Style [ngx.components.UIStyle-1606494203430]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	color: white;
                      '
            ↓ZoomIn [ngx.components.UIDynamicElement-1606494278161]: 
              beanData: '{"ionBean":"Button","IonSize":"plain:large"}'
              tagName: ion-button
              ↓Icon [ngx.components.UIDynamicElement-1606494278164]: 
                beanData: '{"ionBean":"Icon","IconName":"plain:add-circle-outline"}'
                tagName: ion-icon
              ↓Event [ngx.components.UIControlEvent-1606494278167]: 
                ↓zoomIn [ngx.components.UICustomAction-1606494278170]: 
                  actionValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                          		this.zoomInFlow();
                          		resolve();
                          '
              ↓Attr [ngx.components.UIAttribute-1606494278173]: 
                attrName: title
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:Zoom In
            ↓ZoomOut [ngx.components.UIDynamicElement-1606494392117]: 
              beanData: '{"ionBean":"Button","IonSize":"plain:large"}'
              tagName: ion-button
              ↓Icon [ngx.components.UIDynamicElement-1606494392121]: 
                beanData: '{"ionBean":"Icon","IconName":"plain:remove-circle-outline"}'
                tagName: ion-icon
              ↓Event [ngx.components.UIControlEvent-1606494392124]: 
                ↓zoomOut [ngx.components.UICustomAction-1606494392127]: 
                  actionValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                          		this.zoomOutFlow();
                          		resolve();
                          '
              ↓Attr [ngx.components.UIAttribute-1606494392130]: 
                attrName: title
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:Zoom Out
            ↓ClearAll [ngx.components.UIDynamicElement-1606215006353]: 
              beanData: '{"ionBean":"Button","IonSize":"plain:large"}'
              tagName: ion-button
              ↓Icon [ngx.components.UIDynamicElement-1606215006356]: 
                beanData: '{"ionBean":"Icon","IconName":"plain:trash-outline"}'
                tagName: ion-icon
              ↓Event [ngx.components.UIControlEvent-1606215006359]: 
                ↓clearAllCards [ngx.components.UICustomAction-1606215096239]: 
                  actionValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                          		this.miniMapsArray = [];
                          		this.breadcrumb = [];
                          		this.levelCount = 0;
                          		this.graph.clear()
                          		resolve();
                          '
              ↓Attr [ngx.components.UIAttribute-1606215006374]: 
                attrName: title
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:Clear all
      ↓Directive [ngx.components.UIControlDirective-1606208676802]: 
        directiveItemName: item
        directiveSource: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: script:this.miniMapsArray
        ↓CardContainer [ngx.components.UIDynamicElement-1606208727643]: 
          beanData: '{"ionBean":"Card","Button":"plain:true"}'
          tagName: ion-card
          ↓CardHeader [ngx.components.UIDynamicElement-1606208746524]: 
            beanData: '{"ionBean":"CardHeader"}'
            tagName: ion-card-header
            ↓CardTitle [ngx.components.UIDynamicElement-1606212056425]: 
              beanData: '{"ionBean":"CardTitle"}'
              tagName: ion-card-title
              ↓Text [ngx.components.UIText-1606212143678]: 
                textValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item.displayName
            ↓Style [ngx.components.UIStyle-1606213767733]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	padding: 2px 2px 2px 2px;
                      '
            ↓Attr [ngx.components.UIAttribute-1608199488681]: 
              attrName: style
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: 'script:(item.isSelected) ? ''background-color: #0CBBE7; animation-name: whiteToBlue; animation-duration: 1s''  : ''background-color: #fff; animation-name: blueToWhite; animation-duration: 1s '' '
          ↓CardContent [ngx.components.UIDynamicElement-1606208795686]: 
            beanData: '{"ionBean":"CardContent"}'
            tagName: ion-card-content
            ↓Style [ngx.components.UIStyle-1606211033433]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	min-height: 100px;
                      	background-color: rgb(34,34,34)
                      '
            ↓Attr [ngx.components.UIAttribute-1606208856542]: 
              attrName: id
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:item.id
            ↓Event [ngx.components.UIControlEvent-1606214054734]: 
              ↓updateMainGraph [ngx.components.UICustomAction-1606214078943]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		var cellsToAdd = vars.graph.getCells();
                        		this.updateGraph(this.graph, cellsToAdd);
                        		
                        		this.paper.setOrigin(this.graphOriginX, this.graphOriginY);
                        		
                        		if(!vars.cardObject.isSelected)
                        			vars.cardObject.isSelected = true
                        			
                        		this.unselectCard(vars.cardObject.id);
                        		this.highlightBreadcrumb(vars.id)
                        		resolve();
                        '
                ↓graph [ngx.components.UIControlVariable-1606214235916]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:item.graph
                ↓id [ngx.components.UIControlVariable-1607531365748]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:item.id
                ↓cardObject [ngx.components.UIControlVariable-1608201162871]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:item
          ↓Attr [ngx.components.UIAttribute-1608214511472]: 
            attrName: style
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: 'plain:animation-name: fadeInUp; animation-duration: 0.5s; border-bottom-left-radius: 0px; border-bottom-right-radius: 0px;'
    ↓colGraph [ngx.components.UIDynamicElement-1588228746957]: 
      beanData: '{"ionBean":"GridCol","SizeXl":"plain:10"}'
      tagName: ion-col
      ↓divv [ngx.components.UIDynamicElement-1600960364621]: 
        beanData: '{"ionBean":"DivTag"}'
        isEnabled: false
        tagName: div
        ↓divtoto [ngx.components.UIElement-1600959915099]: 
          tagName: divtoto
          ↓Attr1 [ngx.components.UIAttribute-1600935208423]: 
            attrName: id
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:flowContainer
          ↓Attr [ngx.components.UIAttribute-1603209802305]: 
            attrName: style
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: 'script:(this.global.miniMapIsHidden) ? ''height: 600px;'' : ''height: 300px;'''
        ↓Style [ngx.components.UIStyle-1600961212571]: 
          styleContent: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '/**
                   * Custom properties (sometimes referred to as CSS variables or cascading variables)
                   * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                   * They are set using custom property notation, e.g.: --main-color: black;
                   * and are accessed using the var() function, e.g.: color: var(--main-color);
                   * You can find below your component''s properties you can customize within the page.
                   * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                   * For more informations see https://ionicframework.com/docs/theming.
                  **/
                  //--ion-grid-column-padding	//Padding for the Column
                  //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                  //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                  //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                  //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                  //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                  //--ion-grid-columns	//The number of total Columns in the Grid
                  max-height:300px !important;
                  '
        ↓divToolsBar [ngx.components.UIDynamicElement-1603111118345]: 
          beanData: '{"ionBean":"DivTag"}'
          tagName: div
          ↓Attr [ngx.components.UIAttribute-1603111139643]: 
            attrName: class
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:flowToolsBar
          ↓zoomInIcon [ngx.components.UIDynamicElement-1603111200661]: 
            beanData: |
              '{
               "ionBean": "Icon",
               "IconName": "plain:add-circle",
               "IonSize": "plain:default"
              }'
            tagName: ion-icon
            ↓Event [ngx.components.UIControlEvent-1603117358116]: 
              ↓zoomIn [ngx.components.UICustomAction-1603117367900]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		this.zoomInFlow();
                        		resolve();
                        '
          ↓zoomOutIcon [ngx.components.UIDynamicElement-1603111451351]: 
            beanData: |
              '{
               "ionBean": "Icon",
               "IconName": "plain:remove-circle",
               "IonSize": "plain:default"
              }'
            tagName: ion-icon
            ↓Event [ngx.components.UIControlEvent-1603116289649]: 
              ↓zoomOut [ngx.components.UICustomAction-1603116361860]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		this.zoomOutFlow();
                        		resolve();
                        '
          ↓TextItem [ngx.components.UIDynamicElement-1603122489195]: 
            beanData: '{"ionBean":"TextItem"}'
            tagName: ion-text
            ↓Text [ngx.components.UIText-1603121618903]: 
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: script:[scaleView] + " %"
            ↓Attr [ngx.components.UIAttribute-1603122609751]: 
              attrName: class
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:textScaleView
          ↓Tag [ngx.components.UIElement-1603121593293]: 
            selfClose: true
            tagName: hr
          ↓miniMapIcon [ngx.components.UIDynamicElement-1603114846786]: 
            beanData: '{"ionBean":"Icon","IconName":"plain:map"}'
            tagName: ion-icon
            ↓Event [ngx.components.UIControlEvent-1603207192700]: 
              ↓showOrHideMiniMap [ngx.components.UICustomAction-1603207209276]: 
                actionValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                        		if(this.global.miniMapIsHidden) {
                        			this.global.miniMapIsHidden = false;
                        		} else {
                        			this.global.miniMapIsHidden = true;
                        			this.paper.setDimensions(''100%'', ''600px'');
                        		}
                        		resolve();
                        '
      ↓Style [ngx.components.UIStyle-1600961167941]: 
        isEnabled: false
        styleContent: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
            - com.twinsoft.convertigo.beans.common.FormatedContent: 
              →: |
                '/**
                 * Custom properties (sometimes referred to as CSS variables or cascading variables)
                 * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                 * They are set using custom property notation, e.g.: --main-color: black;
                 * and are accessed using the var() function, e.g.: color: var(--main-color);
                 * You can find below your component''s properties you can customize within the page.
                 * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                 * For more informations see https://ionicframework.com/docs/theming.
                **/
                //--ion-grid-column-padding	//Padding for the Column
                //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                //--ion-grid-columns	//The number of total Columns in the Grid
                	height: 100% !important;
                	min-height: 500px !important;
                '
      ↓Attr1 [ngx.components.UIAttribute-1606227992879]: 
        attrName: id
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:flow-container
      ↓GridRow [ngx.components.UIDynamicElement-1607594507693]: 
        beanData: '{"ionBean":"GridRow"}'
        isEnabled: false
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1607594543134]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓divBreadcrumb [ngx.components.UIDynamicElement-1607519331636]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓c [ngx.components.UIAttribute-1607524852840]: 
              attrName: class
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:bd_content
            ↓Div [ngx.components.UIDynamicElement-1607527427834]: 
              beanData: '{"ionBean":"DivTag"}'
              tagName: div
              ↓c [ngx.components.UIAttribute-1607527436200]: 
                attrName: class
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:bd_content_1
              ↓Tag [ngx.components.UIElement-1607524911818]: 
                tagName: ul
                ↓Directive [ngx.components.UIControlDirective-1607524246437]: 
                  directiveItemName: item
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.breadcrumb
                  ↓Tag [ngx.components.UIElement-1607524946513]: 
                    tagName: li
                    ↓Tag [ngx.components.UIElement-1607527870608]: 
                      tagName: a
                      ↓Text [ngx.components.UIText-1607524962800]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:item.displayName
                    ↓Event [ngx.components.UIControlEvent-1607528509568]: 
                      ↓updateMainGraphAndUnselectBreadcrumb [ngx.components.UICustomAction-1607528509571]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                		var cellsToAdd = vars.breadcrumbObject.graph.getCells();
                                		this.updateGraph(this.graph, cellsToAdd);
                                		
                                		if(!vars.breadcrumbObject.isSelected)
                                			vars.breadcrumbObject.isSelected = true
                                			
                                		this.unselectBreadcrumb(vars.breadcrumbObject.id);
                                		resolve();
                                '
                        ↓graph [ngx.components.UIControlVariable-1607528509574]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.graph
                        ↓id [ngx.components.UIControlVariable-1607529980049]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.id
                        ↓isSelected [ngx.components.UIControlVariable-1607530405202]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.isSelected
                        ↓breadcrumbObject [ngx.components.UIControlVariable-1607530489792]: 
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item
                    ↓Attr [ngx.components.UIAttribute-1607529673831]: 
                      attrName: style
                      attrValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: 'script:(item.isSelected) ? ''background-color: #0CBBE7;''  : ''background-color: #fff; '' '
        ↓Style [ngx.components.UIStyle-1607594868944]: 
          styleContent: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '/**
                   * Custom properties (sometimes referred to as CSS variables or cascading variables)
                   * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                   * They are set using custom property notation, e.g.: --main-color: black;
                   * and are accessed using the var() function, e.g.: color: var(--main-color);
                   * You can find below your component''s properties you can customize within the page.
                   * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                   * For more informations see https://ionicframework.com/docs/theming.
                  **/
                  //--ion-grid-column-padding	//Padding for the Column
                  //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                  //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                  //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                  //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                  //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                  //--ion-grid-columns	//The number of total Columns in the Grid
                  
                  max-height: 50px !important;
                  '
      ↓GridRow1 [ngx.components.UIDynamicElement-1607594606384]: 
        beanData: '{"ionBean":"GridRow"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1607594614016]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓Div [ngx.components.UIDynamicElement-1588137806849]: 
            beanData: '{"ionBean":"DivTag"}'
            identifier: graphDomElement
            tagName: div
            ↓Attr [ngx.components.UIAttribute-1588238054179]: 
              attrName: (document:mousemove)
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:onMouseMove($event)
            ↓Style [ngx.components.UIStyle-1605869247261]: 
              isEnabled: false
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	height: 600px !important;
                      	overflow: scroll !important;
                      '
          ↓Style [ngx.components.UIStyle-1607594643693]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '/**
                     * Custom properties (sometimes referred to as CSS variables or cascading variables)
                     * are entities defined by CSS authors that contain specific values to be reused throughout a document.
                     * They are set using custom property notation, e.g.: --main-color: black;
                     * and are accessed using the var() function, e.g.: color: var(--main-color);
                     * You can find below your component''s properties you can customize within the page.
                     * If you''d like to make some customizations for whole app, please see your app Style & Theme components.
                     * For more informations see https://ionicframework.com/docs/theming.
                    **/
                    //--ion-grid-column-padding	//Padding for the Column
                    //--ion-grid-column-padding-lg	//Padding for the Column on lg screens and up
                    //--ion-grid-column-padding-md	//Padding for the Column on md screens and up
                    //--ion-grid-column-padding-sm	//Padding for the Column on sm screens and up
                    //--ion-grid-column-padding-xl	//Padding for the Column on xl screens and up
                    //--ion-grid-column-padding-xs	//Padding for the Column on xs screens and up
                    //--ion-grid-columns	//The number of total Columns in the Grid
                    '
          ↓divBreadcrumb [ngx.components.UIDynamicElement-1607595300976]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓c [ngx.components.UIAttribute-1607595300979]: 
              attrName: class
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:bd_content
            ↓Div [ngx.components.UIDynamicElement-1607595300982]: 
              beanData: '{"ionBean":"DivTag"}'
              tagName: div
              ↓c [ngx.components.UIAttribute-1607595300985]: 
                attrName: class
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:bd_content_1
              ↓Tag [ngx.components.UIElement-1607595300988]: 
                tagName: ul
                ↓Directive [ngx.components.UIControlDirective-1607595300991]: 
                  directiveItemName: item
                  directiveSource: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.breadcrumb
                  ↓Tag [ngx.components.UIElement-1607595300994]: 
                    tagName: li
                    ↓Tag [ngx.components.UIElement-1607595300997]: 
                      tagName: a
                      ↓Text [ngx.components.UIText-1607595301000]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:item.displayName
                    ↓Event [ngx.components.UIControlEvent-1607595301003]: 
                      ↓updateMainGraphAndUnselectBreadcrumb [ngx.components.UICustomAction-1607595301006]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                '		page.c8o.log.debug(''[MB] ''+ props.actionFunction +'': ''+ props.actionName);
                                		var cellsToAdd = vars.breadcrumbObject.graph.getCells();
                                		this.updateGraph(this.graph, cellsToAdd);
                                		
                                		this.paper.setOrigin(this.graphOriginX, this.graphOriginY);
                                		
                                		if(!vars.breadcrumbObject.isSelected)
                                			vars.breadcrumbObject.isSelected = true
                                		
                                		// cards and breadcrumb items have the same id
                                		this.unselectCard(vars.breadcrumbObject.id)
                                		this.highlightCard(vars.breadcrumbObject.id)
                                
                                		this.unselectBreadcrumb(vars.breadcrumbObject.id);
                                		
                                		resolve();
                                '
                        ↓graph [ngx.components.UIControlVariable-1607595301009]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.graph
                        ↓id [ngx.components.UIControlVariable-1607595301012]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.id
                        ↓isSelected [ngx.components.UIControlVariable-1607595301015]: 
                          isEnabled: false
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item.isSelected
                        ↓breadcrumbObject [ngx.components.UIControlVariable-1607595301018]: 
                          varValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:item
                    ↓Attr [ngx.components.UIAttribute-1607595301021]: 
                      attrName: style
                      attrValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: 'script:(item.isSelected) ? ''background-color: #0CBBE7;''  : ''background-color: #fff; '' '
    ↓GridCol1 [ngx.components.UIDynamicElement-1600682513448]: 
      beanData: '{"ionBean":"GridCol","SizeXl":"plain:2"}'
      isEnabled: false
      tagName: ion-col
      ↓Tag [ngx.components.UIElement-1600681837711]: 
        tagName: div
        ↓Attr [ngx.components.UIAttribute-1600681920905]: 
          attrName: id
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:paper-multiple-papers-small
        ↓Attr1 [ngx.components.UIAttribute-1600682197627]: 
          attrName: (document:mousemove)
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:onMouseMove($event)
  ↓GridRow1 [ngx.components.UIDynamicElement-1588228813856]: 
    beanData: '{"ionBean":"GridRow","Height":"plain:350"}'
    isEnabled: false
    tagName: ion-row
    ↓GridCol [ngx.components.UIDynamicElement-1588228819248]: 
      beanData: '{"ionBean":"GridCol"}'
      tagName: ion-col
      ↓RangeSlider [ngx.components.UIDynamicElement-1588159080969]: 
        beanData: |
          '{
           "ionBean": "Range",
           "Min": "plain:1",
           "Max": "plain:10",
           "Snaps": "plain:true"
          }'
        isEnabled: false
        tagName: ion-range
        ↓Attr [ngx.components.UIAttribute-1588159106785]: 
          attrName: '[(ngModel)]'
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:scale
        ↓Attr1 [ngx.components.UIAttribute-1588159608396]: 
          attrName: (ngModelChange)
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:onGridSizeChanged()
      ↓Text [ngx.components.UIText-1594042417780]: 
        isEnabled: false
        textValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:Show horizontally
      ↓ToggleButton [ngx.components.UIDynamicElement-1594041057759]: 
        beanData: |
          '{
           "ionBean": "Toggle",
           "ControlName": "plain:name1594041057759",
           "DoubleBinding": "script:isHorizontal"
          }'
        isEnabled: false
        tagName: ion-toggle
      ↓Directive [ngx.components.UIControlDirective-1594041985238]: 
        directiveExpression: this.isHorizontal
        directiveName: If
        isEnabled: false
        ↓Button [ngx.components.UIDynamicElement-1594042311511]: 
          beanData: '{"ionBean":"Button"}'
          tagName: ion-button
      ↓Tag [ngx.components.UIElement-1600690556904]: 
        tagName: div
        ↓Attr [ngx.components.UIAttribute-1600690556907]: 
          attrName: id
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:paper-multiple-papers-small
        ↓Attr1 [ngx.components.UIAttribute-1600690556910]: 
          attrName: (document:mousemove)
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:onMouseMoveMiniMap($event)
          isEnabled: false
      ↓Tag1 [ngx.components.UIElement-1600877872727]: 
        tagName: div
        ↓Attr [ngx.components.UIAttribute-1600877917499]: 
          attrName: id
          attrValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:minimap-navigator
      ↓Attr [ngx.components.UIAttribute-1600877980416]: 
        attrName: id
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:minimap-container
      ↓Attr1 [ngx.components.UIAttribute-1603206788743]: 
        attrName: style
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: 'script:(this.global.miniMapIsHidden) ? ''visibility: hidden;'' : ''visibility: visible;'''
↓Subscribe_Handler1 [ngx.components.UIEventSubscriber-1603124103143]: 
  isEnabled: false
  topic: scaleView
  ↓Toast [ngx.components.UIDynamicAction-1603124134840]: 
    beanData: |
      '{
       "ionBean": "ToastAction",
       "message": "script:out",
       "position": "plain:middle"
      }'